

Плагин предназначен для снижения нагрузки на сервер при ожидании блокировки.
25 релиз 1С:Предприятие для DBF.


Плагин перехватывает неудачную попытку заблокировать файл и вставляет паузу sleep.
Это позволяет разгрузить сервер (особенно терминальный) и дать пользователям возможность
нормально работать. 

Плагин перехватывает блокировку файла 1SJOURN.DBF - блокировка других файлов не отслеживается.


Параметры в файле ini:

Пауза=1024
Сообщения=1
Зацикливание=1
СигнальныйФайл=c:\romix.sig


Пауза - это значение паузы в миллисекундах. Фактически пауза будет нарастать от 1 до 1024 (в данном примере)
миллисекунд с множителем 2: 1,2,4,8,...1024.


Сообщения - показывать сообщения в трее (1=да). Сообщение появится только при наличии паузы более 250 мс.

Зацикливание - зациклить ожидание (чтобы не получать ошибок про превышенное ожидание блокировки).
С другой стороны, пользователь не сможет прервать процесс ожидания, иначе как сняв задачу.

СигнальныйФайл - если указать файл, то плагин будет его создавать. Цель этого файла - 
дать различным "роботам" (которые, например, восстанавливают последовательность документов) знать,
что кто-то пытается провести документ. Это позволяет остановить массовую обработку (может быть, даже на
середине большого документа) и подождать, пока пользователь не выполнит свою задачу.

Робот должен сам удалить сигнальный файл.

Сигнальный файл появится только при достижении паузой значения 1024 (в данном примере) мс.

//(c) romix, 2006