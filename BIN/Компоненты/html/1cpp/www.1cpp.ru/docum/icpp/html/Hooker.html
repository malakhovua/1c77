<?xml version="1.0" encoding="CP1251" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from www.1cpp.ru/docum/icpp/html/Hooker.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Mar 2024 08:56:51 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=CP1251" />
<meta name="generator" content="Docutils 0.6: http://docutils.sourceforge.net/" />
<title>ѕерехватчик</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: Hooker.html,v 1.1250 2013/01/30 23:11:08 fez Exp $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left{
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: left }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="id1">
<h1 class="title">ѕерехватчик</h1>

<!-- јвтор: јртур јюханов aka artbear, mailto: artbear@inbox.ru -->
<!-- <chminfo>
        <insert nodes="//common/maininfo/*"/>
        <alinks>_1cpp_hooker_</alinks>
        <klinks>
                ѕерехватчик
                Interceptor
        </klinks>
</chminfo> -->
<div class="contents topic" id="id2">
<p class="topic-title first">—одержание</p>
<ul class="simple">
<li><a class="reference internal" href="#id3" id="id43"><strong>ќбща€ схема перехвата:</strong></a></li>
<li><a class="reference internal" href="#id4" id="id44">ѕерехват событий модулей форм и групповых контекстов</a><ul>
<li><a class="reference internal" href="#hookeventsofgroupcontext" id="id45">ѕерехватить—обыти€√  / HookEventsOfGroupContext</a></li>
<li><a class="reference internal" href="#runeventofgroupcontext" id="id46">¬ыполнить—обытие√  / RunEventOfGroupContext</a></li>
<li><a class="reference internal" href="#runoriginaleventofgroupcontext" id="id47">¬ыполнитьќригинальное—обытие√  / RunOriginalEventOfGroupContext</a></li>
<li><a class="reference internal" href="#gethookobjectforeventsofgroupcontext" id="id48">ѕолучитьѕерехватчик—обытий√  / GetHookObjectForEventsOfGroupContext</a></li>
<li><a class="reference internal" href="#k-unhookeventsofgroupcontext" id="id49">—н€тьѕерехват—обытий√K / UnHookEventsOfGroupContext</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9" id="id50">ѕерехват событий глобального модул€</a><ul>
<li><a class="reference internal" href="#hookeventsofglobalmodule" id="id51">ѕерехватить—обыти€√лобальногоћодул€ / HookEventsOfGlobalModule</a></li>
<li><a class="reference internal" href="#runeventofglobalmodule" id="id52">¬ыполнить—обытие√лобальногоћодул€ / RunEventOfGlobalModule</a></li>
<li><a class="reference internal" href="#runoriginaleventofglobalmodule" id="id53">¬ыполнитьќригинальное—обытие√лобальногоћодул€ / RunOriginalEventOfGlobalModule</a></li>
<li><a class="reference internal" href="#gethookobjectforeventsofglobalmodule" id="id54">ѕолучитьѕерехватчик—обытий√лобальногоћодул€ / GetHookObjectForEventsOfGlobalModule</a></li>
<li><a class="reference internal" href="#unhookeventsofglobalmodule" id="id55">—н€тьѕерехват—обытий√лобальногоћодул€ / UnHookEventsOfGlobalModule</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id15" id="id56">ƒополнительные методы дл€ работы с доп.перехватами в глобальном модуле</a><ul>
<li><a class="reference internal" href="#addevent-unhandlederror" id="id57">ѕодключить—обытие_Ќеобработанна€ќшибка / AddEvent_UnHandledError</a></li>
<li><a class="reference internal" href="#addevent-reporteventa" id="id58">ѕодключить—обытие_«апись—обыти€∆урнала–егистрации / AddEvent_ReportEventA</a></li>
<li><a class="reference internal" href="#addevent-reportuserevent" id="id59">ѕодключить—обытие_«аписьѕользовательского—обыти€∆урнала–егистрации / AddEvent_ReportUserEvent</a></li>
<li><a class="reference internal" href="#addverylongstringrestructure" id="id60">¬ключить–азбиениеƒлинных—трокƒл€ћетода—ообщить / AddVeryLongStringRestructure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id20" id="id61">ѕерехват событий проведени€ и отмены проведени€ документов</a><ul>
<li><a class="reference internal" href="#hookeventsofdocumenttransaction" id="id62">ѕерехватить—обыти€ѕроведени€ƒокумента / HookEventsOfDocumentTransaction</a></li>
<li><a class="reference internal" href="#gethookobjectforeventsofdocumenttransaction" id="id63">ѕолучитьѕерехватчик—обытийѕроведени€ƒокумента / GetHookObjectForEventsOfDocumentTransaction</a></li>
<li><a class="reference internal" href="#unhookeventsofdocumenttransaction" id="id64">—н€тьѕерехват—обытийѕроведени€ƒокумента / UnHookEventsOfDocumentTransaction</a></li>
<li><a class="reference internal" href="#id25" id="id65">ќписание обработчика событи€ модул€ документа</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id26" id="id66">—обыти€ глобального модул€</a><ul>
<li><a class="reference internal" href="#id29" id="id67">—обытие_Ќеобработанна€ќшибка</a></li>
<li><a class="reference internal" href="#id31" id="id68">—обытие_«апись—обыти€∆урнала–егистрации</a></li>
<li><a class="reference internal" href="#id33" id="id69">—обытие_«аписьѕользовательского—обыти€∆урнала–егистрации</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id34" id="id70">—пециальные событи€ глобального модул€ - только дл€ классов-перехватчиков √ћ</a><ul>
<li><a class="reference internal" href="#id36" id="id71">—обытие√ћ_—оздание онтекста</a></li>
<li><a class="reference internal" href="#id38" id="id72">—обытие√ћ_ѕриќткрытии</a></li>
<li><a class="reference internal" href="#id40" id="id73">—обытие√ћ_¬водЌового</a></li>
<li><a class="reference internal" href="#id42" id="id74">—обытие√ћ_¬водЌаќсновании</a></li>
</ul>
</li>
</ul>
</div>
<p><strong> ласс &quot;ѕерехватчик&quot; / &quot;Interceptor&quot;.</strong></p>
<p>—пециальный класс, предназначенный дл€ перехвата предопределенных событий
1— и ¬  FormEx, вызываемых дл€ групповых контекстов, модулей проведени€ документов и/или глобального модул€,
с помощью специальных объектов пользовательских классов 1—++ или объектов типа ¬ыполн€емыйћодуль
или наследников от произвольных CBL-контекстов.</p>
<p><strong>¬ерси€: релиз 2.5 и выше.</strong></p>
<div class="section" id="id3">
<h1><strong>ќбща€ схема перехвата:</strong></h1>
<!-- <chminfo split="0" splitchild="1">
        <insert nodes="//common/propsmethods/*"/>
</chminfo> -->
<p>0. ƒл€ использовани€ перехвата должна быть включена настройка 1—++
&quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
—м. <a class="reference external" href="SettingsManager.chm__/SettingsManager0.html">SettingsManager</a></p>
<p>1.0 ¬ качестве собственных объектов-перехватчиков можно использовать как
пользовательский класс 1—++, так и объект типа ¬ыполн€емыйћодуль, а также
наследников от произвольных CBL-контекстов (например, дл€ произвольных
¬  - подобна€ ¬  со своими классами есть у јлександра ќрефкова aka orefkov)</p>
<p>1.1 Ќеобходимо использовать модуль, в котором должны
быть определены <strong>обработчики соответствующих событий с названием событи€</strong>
(ѕри«акрытии, ѕриЌачале¬ыбора«начени€, ѕриЌажатии нопки лавиатуры) или
<strong>со специальным названием в виде —обытие_Ќаименование—обыти€</strong>
(—обытие_ѕри«акрытии, —обытие_ѕриЌачале¬ыбора«начени€, —обытие√ћ_ѕриЌажатии нопки лавиатуры)</p>
<p>1.2 ƒл€ событий глобального модул€ <strong>всегда используетс€ префикс ``—обытие√ћ_``</strong>
(—обытие√ћ_ѕри«авершении–аботы—истемы, —обытие√ћ_ѕриЌажатии нопки лавиатуры)</p>
<p>2.  аждый обработчик должен быть определен <strong>с атрибутом Ёкспорт</strong>, иначе
перехват указанного событи€ будет невозможен.</p>
<p>Ќапример, дл€ перехвата событий ѕри«акрытии и ѕриЌачале¬ыбора«начени€ в
классе-перехватчике необходимо написать</p>
<blockquote>
<dl class="docutils">
<dt>ѕроцедура ѕри«акрытии() Ёкспорт</dt>
<dd>// текст обработчика событи€</dd>
</dl>
<p> онецѕроцедуры</p>
<dl class="docutils">
<dt>ѕроцедура —обытие_ѕриЌачале¬ыбора«начени€(Ќужныеѕараметры и т.д.) Ёкспорт</dt>
<dd>// текст обработчика событи€</dd>
</dl>
<p> онецѕроцедуры</p>
</blockquote>
<p>»ли дл€ перехвата событи€ ѕри«авершении–аботы—истемы в
классе-перехватчике необходимо написать</p>
<blockquote>
<dl class="docutils">
<dt>ѕроцедура —обытие√ћ_ѕри«авершении–аботы—истемы() Ёкспорт</dt>
<dd>// текст обработчика событи€</dd>
</dl>
<p> онецѕроцедуры</p>
</blockquote>
<p>3. ƒл€ включени€ перехвата конкретного контекста формы нужно использовать
код</p>
<blockquote>
<ul class="simple">
<li>ќбъектѕерехватчик√  = —оздатьќбъект(&quot; лассѕерехватчик√ &quot;);</li>
<li>ѕерехватчик = —оздатьќбъект(&quot;ѕерехватчик&quot;);</li>
<li>ѕерехватчик. <a class="reference internal" href="#id5">ѕерехватить—обыти€√ </a> ( онт‘ормы, ќбъектѕерехватчик√ );</li>
</ul>
<p>или</p>
<ul class="simple">
<li>ѕерехватчик. <a class="reference internal" href="#id10">ѕерехватить—обыти€√лобальногоћодул€</a> (ќбъектѕерехватчик√ћ);</li>
</ul>
<p>или</p>
<ul class="simple">
<li>ѕредќбработчик = ѕерехватчик. <a class="reference internal" href="#id5">ѕерехватить—обыти€√ </a> (ќбъектѕерехватчик√ );</li>
<li>ѕредќбработчик = ѕерехватчик. <a class="reference internal" href="#id10">ѕерехватить—обыти€√лобальногоћодул€</a> (ќбъектѕерехватчик√ћ);</li>
</ul>
</blockquote>
<p>4. ¬ перехваченном контексте или перехваченном глобальном модуле
<strong>обработчики событий могут вообще отсутствовать или быть определены без
атрибута Ёкспорт</strong>.</p>
<p>5. ѕосле установки перехвата при вызове системой событи€
управление   будет   передано   в   соответствующий   обработчик   событи€    в
классе-перехватчике.
¬ этом случае встроенные обработчики предопределенных событий в
перехваченном контексте или глобальном модуле автоматически вызыватьс€ не
будут.
–азработчик сам должен вызвать данные обработчики (см. п.7), когда это
необходимо.</p>
<p>6. ƒл€ включени€ перехвата событий глобального модул€ необходимо
использовать код</p>
<blockquote>
<ul class="simple">
<li>ќбъектѕерехватчик—обытий√лобальногоћодул€ = —оздатьќбъект(&quot; лассѕерехватчик—обытий√лобальногоћодул€&quot;);</li>
<li>ѕерехватчик = —оздатьќбъект(&quot;ѕерехватчик&quot;);</li>
<li>ѕерехватчик. <a class="reference internal" href="#id10">ѕерехватить—обыти€√лобальногоћодул€</a> (ќбъектѕерехватчик—обытий√лобальногоћодул€);</li>
</ul>
</blockquote>
<p>7. ѕри необходимости вызова обработчиков событий, которые определены в контексте
или в глобальном модуле, в обработчике событи€ внутри пользовательского модул€
нужно использовать код</p>
<blockquote>
<p>ѕроцедура —обытие_ѕри«акрытии() Ёкспорт</p>
<ul class="simple">
<li>ѕерехватчик = —оздатьќбъект(&quot;ѕерехватчик&quot;);</li>
<li>ѕерехватчик. <a class="reference internal" href="#id7">¬ыполнитьќригинальное—обытие√ </a> ( онтѕерехваченной‘ормы, &quot;ѕри«акрытии&quot;);</li>
</ul>
<p>или дл€ вызова предыдущего сохраненного обработчика</p>
<ul class="simple">
<li>ѕерехватчик. <a class="reference internal" href="#id6">¬ыполнить—обытие√ </a> ( онтѕерехваченной‘ормы, &quot;ѕри«акрытии&quot;, ѕредыдущийќбработчик);</li>
</ul>
<p> онецѕроцедуры</p>
</blockquote>
<p>или</p>
<blockquote>
<p>ѕроцедура —обытие√ћ_ѕри«авершении–аботы—истемы() Ёкспорт</p>
<ul class="simple">
<li>ѕерехватчик = —оздатьќбъект(&quot;ѕерехватчик&quot;);</li>
<li>ѕерехватчик. <a class="reference internal" href="#id12">¬ыполнитьќригинальное—обытие√лобальногоћодул€</a> (&quot;ѕри«авершении–аботы—истемы&quot;);</li>
</ul>
<p>или дл€ вызова предыдущего сохраненного обработчика</p>
<ul class="simple">
<li>ѕерехватчик. <a class="reference internal" href="#id11">¬ыполнить—обытие√лобальногоћодул€</a> (&quot;ѕри«авершении–аботы—истемы&quot;, ѕредыдущийќбработчик);</li>
</ul>
<p> онецѕроцедуры</p>
</blockquote>
<p>ѕри этом неважно, существует ли обработчик в модуле формы или глобальном модуле.</p>
<p><strong>“аким образом, дл€ обработки цепочки из нескольких перехватчиков существуют методы</strong>
<a class="reference internal" href="#id6">¬ыполнить—обытие√ </a>
<a class="reference internal" href="#id11">¬ыполнить—обытие√лобальногоћодул€</a></p>
<p>8. <strong>¬ажно помнить, что после установки перехвата на контекст формы или глобальный модуль
на пользовательский объект-перехватчик добавл€етс€ еще одна ссылка.</strong>
¬ результате деструктор данного объекта-перехватчика будет вызван только
при закрытии формы или завершении работы 1— соответственно или сн€тии
перехвата вручную.</p>
<p>Ќапример, код</p>
<blockquote>
<ul class="simple">
<li>ќбъектѕерехватчик√  = —оздатьќбъект(&quot; лассѕерехватчик√ &quot;);</li>
<li>ѕерехватчик = —оздатьќбъект(&quot;ѕерехватчик&quot;);</li>
<li>ѕерехватчик. <a class="reference internal" href="#id5">ѕерехватить—обыти€√ </a> ( онт‘ормы, ќбъектѕерехватчик√ );</li>
<li>ќбъектѕерехватчик√  = 0;</li>
</ul>
</blockquote>
<p>не вызывет деструктор немедленно!</p>
<p>9. <strong>ћетод-обработчик событи€ может возвращать необходимый статус возврата.</strong>
ƒл€ этого обработчик нужно определить как функцию</p>
<pre class="literal-block">
‘ункци€ ѕри«акрытии() Ёкспорт
        // текст обработчика событи€
        ¬озврат 0; // т.е. фактически —татус¬озврата(0) и форма не будет закрыта.
 онец‘ункции
</pre>
<ol class="arabic simple" start="10">
<li><strong>¬се вышесказанное относитс€ также и к предопределенным событи€м ¬  FormEx.</strong></li>
</ol>
<p>12. <strong>¬ добавление ко всем стандартным событи€м 1— и ¬  FormEx добавлено специальное событие</strong>
<a class="reference internal" href="#id35">—обытие√ћ_—оздание онтекста</a></p>
<p>12. <strong>¬ добавление ко всем стандартным событи€м 1— и ¬  FormEx добавлены специальные событи€</strong>
<a class="reference internal" href="#id37">—обытие√ћ_ѕриќткрытии</a> , <a class="reference internal" href="#id39">—обытие√ћ_¬водЌового</a> , <a class="reference internal" href="#id41">—обытие√ћ_¬водЌаќсновании</a></p>
<p>ƒанные событи€ вызываютс€ до соответствующих событий формы и могут отключать обработчики из формы.</p>
</div>
<div class="section" id="id4">
<h1>ѕерехват событий модулей форм и групповых контекстов</h1>
<!-- <chminfo split="0" splitchild="1">
        <insert nodes="//common/propsmethods/*"/>
</chminfo> -->
<div class="section" id="hookeventsofgroupcontext">
<span id="id5"></span><h2>ѕерехватить—обыти€√  / HookEventsOfGroupContext</h2>
<blockquote>
<blockquote>
<p><strong>—интаксис:</strong> ѕерехватить—обыти€√ (√рупповой онтекст‘ормы, ќбъектѕользовательского лассаќбработчикаѕерехвата)</p>
<p><strong>¬озвращает:</strong> тип: ѕредыдущий обработчик или пустое значение - см. метод <a class="reference internal" href="#id8">ѕолучитьѕерехватчик—обытий√ </a> .</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last">
<li><p class="first"><strong>√рупповой онтекст‘ормы</strong> - тип: √рупповой онтекст.</p>
</li>
<li><dl class="first docutils">
<dt><strong>ќбъектѕользовательского лассаќбработчикаѕерехвата</strong>  -  тип:   ласс  ќѕ или ¬ыполн€емыйћодуль или произвольный контекст.</dt>
<dd><p class="first last">ѕользовательский класс, в котором определены обработчики событий контекста формы.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</blockquote>
<p><strong>ќписание:</strong> ѕерехватывает любые предопределенные событи€ контекста формы, как 1—, так и FormEx.
—н€ть перехват можно с использованием метода <a class="reference internal" href="#k">—н€тьѕерехват—обытий√K</a> .</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.
¬ случае, если первый параметр не €вл€етс€ групповым контекстом, выдаетс€ исключение.</p>
</blockquote>
</div>
<div class="section" id="runeventofgroupcontext">
<span id="id6"></span><h2>¬ыполнить—обытие√  / RunEventOfGroupContext</h2>
<blockquote>
<p><strong>—интаксис:</strong> ¬ыполнить—обытие√ (ќбработчик—обыти€»лиѕустое«начение, √рупповой онтекст‘ормы, »м€—обыти€, ...)</p>
<p><strong>¬озвращает:</strong> тип: „исло - статус возврата модул€ указанного контекста.</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong>ќбработчик—обыти€»лиѕустое«начение</strong>  -  тип:  класс  ќѕ или ¬ыполн€емыйћодуль или произвольный контекст или пустое значение.</li>
<li><strong>√рупповой онтекст‘ормы</strong> - тип: √рупповой онтекст.</li>
<li><strong>»м€—обыти€</strong>  -  тип:  —трока.</li>
</ul>
</dd>
</dl>
<p><strong>ќписание:</strong> ¬ызывает соответствующий обработчик событи€ контекста
формы. ≈сли обработчик не задан, просто выполн€етс€ вызов <a class="reference internal" href="#id7">¬ыполнитьќригинальное—обытие√ </a>
≈сли обработчик задан, то выполн€етс€ вызов соответствующего
метода. ≈сли метод €вл€етс€ функцией,  возвращает результат
выполнени€ этой функции,  иначе 1
≈сли метод не найден, возвращаетс€ 1 и не выдаетс€ сообщений об ошибках.</p>
</blockquote>
</div>
<div class="section" id="runoriginaleventofgroupcontext">
<span id="id7"></span><h2>¬ыполнитьќригинальное—обытие√  / RunOriginalEventOfGroupContext</h2>
<blockquote>
<p><strong>—интаксис:</strong> ¬ыполнитьќригинальное—обытие√ (√рупповой онтекст‘ормы, »м€—обыти€, ...)</p>
<p><strong>¬озвращает:</strong> тип: „исло - статус возврата модул€ указанного контекста.</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong>√рупповой онтекст‘ормы</strong> - тип: √рупповой онтекст.</li>
<li><strong>»м€—обыти€</strong>  -  тип:  —трока.</li>
</ul>
</dd>
</dl>
<p><strong>ќписание:</strong> ¬ызывает обработчик событи€ контекста формы, который опреден в модуле этой формы.
≈сли обработчика в форме не существует, ошибки не выдаетс€.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.
¬ случае, если первый параметр не €вл€етс€ групповым контекстом, выдаетс€ исключение.
¬ случае, если второй параметр не €вл€етс€ строкой или строка пуста, выдаетс€ исключение.</p>
</blockquote>
</div>
<div class="section" id="gethookobjectforeventsofgroupcontext">
<span id="id8"></span><h2>ѕолучитьѕерехватчик—обытий√  / GetHookObjectForEventsOfGroupContext</h2>
<blockquote>
<p><strong>—интаксис:</strong> ѕолучитьѕерехватчик—обытий√ (√рупповой онтекст‘ормы)</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong>√рупповой онтекст‘ормы</strong> - тип: √рупповой онтекст.</li>
</ul>
</dd>
</dl>
<p><strong>¬озвращает:</strong> тип: объект  ќѕ или ¬ыполн€емыйћодуль или произвольный контекст, если дл€ данной формы был включен
перехват или Ќеопределено, если нет.</p>
<p><strong>ќписание:</strong> ¬озвращает объект-перехватчик событий, если дл€ данной
формы был включен перехват.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.
¬ случае, если параметр не €вл€етс€ групповым контекстом, выдаетс€ исключение.</p>
</blockquote>
</div>
<div class="section" id="k-unhookeventsofgroupcontext">
<span id="k"></span><h2>—н€тьѕерехват—обытий√K / UnHookEventsOfGroupContext</h2>
<blockquote>
<p><strong>—интаксис:</strong> —н€тьѕерехват—обытий√K(√рупповой онтекст‘ормы)</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong>√рупповой онтекст‘ормы</strong> - тип: √рупповой онтекст.</li>
</ul>
</dd>
</dl>
<p><strong>ќписание:</strong> —нимает перехват событий контекста формы, если перехват был
установлен дл€ данной формы.</p>
<p>≈сли на пользовательский объект-перехватчик больше нет ссылок, будет
вызван деструктор данного объекта.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.
¬ случае, если параметр не €вл€етс€ групповым контекстом, выдаетс€ исключение.</p>
</blockquote>
</div>
</div>
<div class="section" id="id9">
<h1>ѕерехват событий глобального модул€</h1>
<!-- <chminfo split="0" splitchild="1">
        <insert nodes="//common/propsmethods/*"/>
</chminfo> -->
<div class="section" id="hookeventsofglobalmodule">
<span id="id10"></span><h2>ѕерехватить—обыти€√лобальногоћодул€ / HookEventsOfGlobalModule</h2>
<blockquote>
<p><strong>—интаксис:</strong> ѕерехватить—обыти€√лобальногоћодул€(ќбъектѕользовательского лассаќбработчикаѕерехвата)</p>
<p><strong>¬озвращает:</strong> тип: ѕредыдущий обработчик или пустое значение - см. метод <a class="reference internal" href="#id13">ѕолучитьѕерехватчик—обытий√лобальногоћодул€</a> .</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first">
<li><dl class="first docutils">
<dt><strong>ќбъектѕользовательского лассаќбработчикаѕерехвата</strong>  -  тип:   ласс  ќѕ или ¬ыполн€емыйћодуль или произвольный контекст.</dt>
<dd><p class="first last">ѕользовательский класс, в котором определены обработчики событий глобального модул€.</p>
</dd>
</dl>
</li>
</ul>
<p><strong>ќписание:</strong> ѕерехватывает любые предопределенные событи€ глобального модул€, как 1—, так и FormEx.
—н€ть перехват можно с использованием метода <a class="reference internal" href="#id14">—н€тьѕерехват—обытий√лобальногоћодул€</a> .</p>
<p class="last">≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.</p>
</dd>
</dl>
</blockquote>
</div>
<div class="section" id="runeventofglobalmodule">
<span id="id11"></span><h2>¬ыполнить—обытие√лобальногоћодул€ / RunEventOfGlobalModule</h2>
<blockquote>
<p><strong>—интаксис:</strong> ¬ыполнить—обытие√лобальногоћодул€(ќбработчик—обыти€»лиѕустое«начение, »м€—обыти€, ...)</p>
<p><strong>¬озвращает:</strong> тип: „исло - статус возврата модул€ глобального модул€.</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong>ќбработчик—обыти€»лиѕустое«начение</strong>  -  тип:  класс  ќѕ или ¬ыполн€емыйћодуль или произвольный контекст или пустое значение.</li>
<li><strong>»м€—обыти€</strong>  -  тип:  —трока.</li>
</ul>
</dd>
</dl>
<p><strong>ќписание:</strong> ¬ызывает соответствующий обработчик событи€ глобального
модул€. ≈сли обработчик не задан, просто выполн€етс€ вызов <a class="reference internal" href="#id12">¬ыполнитьќригинальное—обытие√лобальногоћодул€</a>
≈сли обработчик задан, то выполн€етс€ вызов соответствующего
метода. ≈сли метод €вл€етс€ функцией,  возвращает результат
выполнени€ этой функции,  иначе 1
≈сли метод не найден, возвращаетс€ 1 и не выдаетс€ сообщений об ошибках.</p>
</blockquote>
</div>
<div class="section" id="runoriginaleventofglobalmodule">
<span id="id12"></span><h2>¬ыполнитьќригинальное—обытие√лобальногоћодул€ / RunOriginalEventOfGlobalModule</h2>
<blockquote>
<p><strong>—интаксис:</strong> ¬ыполнитьќригинальное—обытие√лобальногоћодул€(»м€—обыти€, ...)</p>
<p><strong>¬озвращает:</strong> тип: „исло - статус возврата глобального модул€.</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong>»м€—обыти€</strong>  -  тип:  —трока.</li>
</ul>
</dd>
</dl>
<p><strong>ќписание:</strong> ¬ызывает обработчик событи€ глобального модул€, который опреден в глобальном модуле.
≈сли обработчика в глобальном модуле не существует, ошибки не выдаетс€.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.
¬ случае, если первый параметр не €вл€етс€ строкой или строка пуста, выдаетс€ исключение.</p>
</blockquote>
</div>
<div class="section" id="gethookobjectforeventsofglobalmodule">
<span id="id13"></span><h2>ѕолучитьѕерехватчик—обытий√лобальногоћодул€ / GetHookObjectForEventsOfGlobalModule</h2>
<blockquote>
<p><strong>—интаксис:</strong> ѕолучитьѕерехватчик—обытий√лобальногоћодул€()</p>
<p><strong>¬озвращает:</strong> тип: объект  ќѕ или ¬ыполн€емыйћодуль или произвольный контекст, если был включен
перехват событий глобального модул€ или Ќеопределено, если нет.</p>
<p><strong>ќписание:</strong> ¬озвращает объект-перехватчик событий, если был включен
перехват событий глобального модул€.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.</p>
</blockquote>
</div>
<div class="section" id="unhookeventsofglobalmodule">
<span id="id14"></span><h2>—н€тьѕерехват—обытий√лобальногоћодул€ / UnHookEventsOfGlobalModule</h2>
<blockquote>
<p><strong>—интаксис:</strong> —н€тьѕерехват—обытий√лобальногоћодул€()</p>
<p><strong>ќписание:</strong> —нимает перехват событий глобального модул€, если перехват был
установлен.</p>
<p>≈сли на пользовательский объект-перехватчик больше нет ссылок, будет
вызван деструктор данного объекта.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.</p>
</blockquote>
</div>
</div>
<div class="section" id="id15">
<h1>ƒополнительные методы дл€ работы с доп.перехватами в глобальном модуле</h1>
<!-- <chminfo split="0" splitchild="1">
        <insert nodes="//common/propsmethods/*"/>
</chminfo> -->
<div class="section" id="addevent-unhandlederror">
<span id="id16"></span><h2>ѕодключить—обытие_Ќеобработанна€ќшибка / AddEvent_UnHandledError</h2>
<blockquote>
<p><strong>—интаксис:</strong> ѕодключить—обытие_Ќеобработанна€ќшибка()</p>
<p><strong>ќписание:</strong> ѕодключает возможность получени€ необработанной ошибки в обработчике
внутри глобального модул€ —обытие_Ќеобработанна€ќшибка()</p>
<p><strong>ќписание обработчика:</strong>
‘ункци€/ѕроцедура —обытие_Ќеобработанна€ќшибка(—ообщениеќбќшибке, ћаркер,
»м€‘айла, ѕарам4, Ќомер—трокиќшибки, ѕарам6)</p>
<p>≈сли обработчик €вл€етс€ функцией, то если он возвращает 0, системное
сообщение об ошибке не показываетс€. ≈сли 1, то показываетс€.
≈сли процедурой, системное сообщение об ошибке также показываетс€.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.</p>
</blockquote>
</div>
<div class="section" id="addevent-reporteventa">
<span id="id17"></span><h2>ѕодключить—обытие_«апись—обыти€∆урнала–егистрации / AddEvent_ReportEventA</h2>
<blockquote>
<p><strong>—интаксис:</strong> ѕодключить—обытие_«апись—обыти€∆урнала–егистрации()</p>
<p><strong>ќписание:</strong> ѕодключает возможность получени€ событи€ запись в системный журнал регистрации 1—
в обработчике внутри глобального модул€ —обытие_«апись—обыти€∆урнала–егистрации().
ѕри этом  неважно,  программна€  это  запись  или  запись,  выполненна€
системой.</p>
<p><strong>ƒанное событие может вызыватьс€ как при внутренних системных событи€х, так и при вызове штатного метода 1— &quot;«апись∆урнала–егистрации&quot;.</strong></p>
<p><strong>ќписание обработчика:</strong>
‘ункци€/ѕроцедура —обытие_«апись—обыти€∆урнала–егистрации(EventCategory,
Event, EvType, comment, object, ObjDescr)</p>
<p>≈сли обработчик €вл€етс€ функцией, то если он возвращает 0, системна€
запись в журнал регистрации выполн€тьс€ не будет. ≈сли 1, то запись будет выполнена.
≈сли процедурой, системна€ запись в журнал регистрации будет выполнена.</p>
<p>¬ параметре object передаетс€ ссылка на реальный объект, породивший данное событие.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.</p>
</blockquote>
</div>
<div class="section" id="addevent-reportuserevent">
<span id="id18"></span><h2>ѕодключить—обытие_«аписьѕользовательского—обыти€∆урнала–егистрации / AddEvent_ReportUserEvent</h2>
<blockquote>
<p><strong>—интаксис:</strong> ѕодключить—обытие_«аписьѕользовательского—обыти€∆урнала–егистрации()</p>
<p><strong>ќписание:</strong> ѕодключает возможность получени€ событи€ пользовательска€ запись
в системный журнал регистрации 1— в обработчике внутри глобального модул€
—обытие_«аписьѕользовательского—обыти€∆урнала–егистрации().</p>
<p><strong>ƒанное событие вызываетс€ только при вызове штатного метода 1— &quot;«апись∆урнала–егистрации&quot;.</strong></p>
<p><strong>ќписание обработчика:</strong>
‘ункци€/ѕроцедура —обытие_«аписьѕользовательского—обыти€∆урнала–егистрации(EventCategory,
Event, EvType, comment, object, ObjDescr)</p>
<p>≈сли обработчик €вл€етс€ функцией, то если он возвращает 0, системна€
запись в журнал регистрации выполн€тьс€ не будет. ≈сли 1, то запись будет выполнена.
≈сли процедурой, системна€ запись в журнал регистрации будет выполнена.</p>
<p>¬ случае разрешени€ системной записи системой будет вызвано событие &quot;—обытие_«апись—обыти€∆урнала–егистрации&quot;
ѕоэтому в случае обработки обоих событий необходимо делать доп.проверку на пользовательские событи€.</p>
<p>¬ параметре object передаетс€ ссылка на реальный объект, породивший данное событие.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.</p>
</blockquote>
</div>
<div class="section" id="addverylongstringrestructure">
<span id="id19"></span><h2>¬ключить–азбиениеƒлинных—трокƒл€ћетода—ообщить / AddVeryLongStringRestructure</h2>
<blockquote>
<p><strong>—интаксис:</strong> ¬ключить–азбиениеƒлинных—трокƒл€ћетода—ообщить()</p>
<p><strong>ќписание:</strong> ѕодключает возможность вывода очень длинных строк в окно
сообщений. “.е. метод решает известный баг 1— - если длина строки очень
велика, например, 500, тогда данна€ строка в окно сообщений не
выводитс€, а выдаетс€ предупреждение на экран, причем данное предупреждение
выдаетс€ всегда, даже в блоке ѕопытка-»сключение- онецѕопытки</p>
<p>ѕри использовании данного метода подобные длинные строки перед выводом в
окно сообщений дел€тс€ на строки размером 450 символов + перевод строки,
и только потом показываютс€ на экран, уже без ошибок и предупреждений.</p>
<p>ѕерехват можно только включить, дл€ его отключени€ нужно перезапустить
сеанс 1—.</p>
<p>–абота перехвата не зависит от настройки 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;</p>
</blockquote>
</div>
</div>
<div class="section" id="id20">
<h1>ѕерехват событий проведени€ и отмены проведени€ документов</h1>
<!-- <chminfo split="0" splitchild="1">
        <insert nodes="//common/propsmethods/*"/>
</chminfo> -->
<div class="section" id="hookeventsofdocumenttransaction">
<span id="id21"></span><h2>ѕерехватить—обыти€ѕроведени€ƒокумента / HookEventsOfDocumentTransaction</h2>
<blockquote>
<blockquote>
<p><strong>—интаксис:</strong> ѕерехватить—обыти€ѕроведени€ƒокумента(¬идƒокумента, ќбъектѕользовательского лассаќбработчикаѕерехвата)</p>
<p><strong>¬озвращает:</strong> тип: ѕредыдущий обработчик или пустое значение - см. метод <a class="reference internal" href="#id22">ѕолучитьѕерехватчик—обытийѕроведени€ƒокумента</a> .</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last">
<li><p class="first"><strong>¬идƒокумента</strong> - тип: —трока. ¬ид документа, возвращаемый методом ¬ид(). <strong>¬Ќ»ћјЌ»≈</strong> Ќельз€ передавать строку типа &quot;ƒокумент.Ќакладна€&quot;, только &quot;Ќакладна€&quot;.</p>
</li>
<li><dl class="first docutils">
<dt><strong>ќбъектѕользовательского лассаќбработчикаѕерехвата</strong>  -  тип:   ласс  ќѕ или ¬ыполн€емыйћодуль или произвольный контекст.</dt>
<dd><p class="first last">ѕользовательский объект, в котором определены обработчики событий контекста формы.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</blockquote>
<p><strong>ќписание:</strong> ѕерехватывает любые предопределенные событи€ проведени€ и отмены проведени€ из модул€ документа дл€ документов указанного вида.
—н€ть перехват можно с использованием метода <a class="reference internal" href="#id23">—н€тьѕерехват—обытийѕроведени€ƒокумента</a> .</p>
<p>»з обработчика перехвата можно выполнить оригинальное событие из модул€ документа с помощью метода <a class="reference internal" href="#id6">¬ыполнить—обытие√ </a> .
ќписание обработчика см. в <a class="reference internal" href="#id24">ќписаниеќбработчика—обыти€ћодул€ƒокумента</a> .</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.
¬ случае, если первый параметр не €вл€етс€ видом существующего документа, выдаетс€ исключение.</p>
</blockquote>
</div>
<div class="section" id="gethookobjectforeventsofdocumenttransaction">
<span id="id22"></span><h2>ѕолучитьѕерехватчик—обытийѕроведени€ƒокумента / GetHookObjectForEventsOfDocumentTransaction</h2>
<blockquote>
<p><strong>—интаксис:</strong> ѕолучитьѕерехватчик—обытийѕроведени€ƒокумента(√рупповой онтекст‘ормы)</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong>¬идƒокумента</strong> - тип: —трока. ¬ид документа, возвращаемый методом ¬ид(). <strong>¬Ќ»ћјЌ»≈</strong> Ќельз€ передавать строку типа &quot;ƒокумент.Ќакладна€&quot;, только &quot;Ќакладна€&quot;.</li>
</ul>
</dd>
</dl>
<p><strong>¬озвращает:</strong> тип: объект  ќѕ или ¬ыполн€емыйћодуль или произвольный контекст, если дл€ документов данного вида был включен
перехват или Ќеопределено, если нет.</p>
<p><strong>ќписание:</strong> ¬озвращает объект-перехватчик событий, если дл€ документов данного вида был включен перехват.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.
¬ случае, если параметр не €вл€етс€ групповым контекстом, выдаетс€ исключение.</p>
</blockquote>
</div>
<div class="section" id="unhookeventsofdocumenttransaction">
<span id="id23"></span><h2>—н€тьѕерехват—обытийѕроведени€ƒокумента / UnHookEventsOfDocumentTransaction</h2>
<blockquote>
<p><strong>—интаксис:</strong> —н€тьѕерехват—обытийѕроведени€ƒокумента(¬идƒокумента)</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong>¬идƒокумента</strong> - тип: —трока. ¬ид документа, возвращаемый методом ¬ид(). <strong>¬Ќ»ћјЌ»≈</strong> Ќельз€ передавать строку типа &quot;ƒокумент.Ќакладна€&quot;, только &quot;Ќакладна€&quot;.</li>
</ul>
</dd>
</dl>
<p><strong>ќписание:</strong> —нимает перехват событий проведени€ и отмены проведени€ из модул€ документа, если перехват был
установлен дл€ документов данного вида.</p>
<p>≈сли на пользовательский объект-перехватчик больше нет ссылок, будет
вызван деструктор данного объекта.</p>
<p>≈сли настройка 1—++ &quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
не включена, будет выдано исключение.
¬ случае, если параметр не €вл€етс€ групповым контекстом, выдаетс€ исключение.</p>
</blockquote>
</div>
<div class="section" id="id25">
<span id="id24"></span><h2>ќписание обработчика событи€ модул€ документа</h2>
<blockquote>
<p><strong>—интаксис:</strong> —обытие_ќбработкаѕроведени€( онтекстƒокумента, [ƒопѕараметрѕроведени€]) Ёкспорт</p>
<p><strong>—интаксис:</strong> —обытие_ќбработка”далени€ѕроведени€( онтекстƒокумента) Ёкспорт</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong> онтекстƒокумента</strong> - тип: контекст документа в модуле проведени€.</li>
</ul>
</dd>
</dl>
<p>¬ обработчике событи€ к предопределенным методам модул€ документа можно обращатьс€ через полученный контекст.
Ќапример,  онтекстƒокумента.»тогијктуальны() или  онтекстƒокумента.√руппова€ќбработка().</p>
</blockquote>
</div>
</div>
<div class="section" id="id26">
<h1>—обыти€ глобального модул€</h1>
<!-- <chminfo split="0" splitchild="1">
        <insert nodes="//common/propsmethods/*"/>
</chminfo> -->
<p><strong>»нструкци€ дл€ использовани€</strong></p>
<p>1. ƒл€ использовани€ перехвата должна быть включена настройка 1—++
&quot; <strong>ѕерехватить—обыти€√  / EnableHookEventsGroupContext</strong> &quot;
с помощью встроенного класса &quot;”правлениеЌастройками&quot;
—м. <a class="reference external" href="SettingsManager.chm__/SettingsManager0.html">SettingsManager</a></p>
<p>2. ѕодключение любого из событий возможно в произвольный момент,
по умолчанию при загрузке 1—++ они выключены.</p>
<p>Ќапример:</p>
<pre class="literal-block">
ѕерехватчик = —оздатьќбъект(&quot;ѕерехватчик&quot;);
ѕерехватчик.ѕодключить—обытие_Ќеобработанна€ќшибка();
ѕерехватчик.ѕодключить—обытие_«апись—обыти€∆урнала–егистрации();
ѕерехватчик.ѕодключить—обытие_«аписьѕользовательского—обыти€∆урнала–егистрации();
</pre>
<ol class="arabic" start="3">
<li><dl class="first docutils">
<dt>ѕри подключении в глобальнике единственный раз идет поиск соответствующих событий</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#id28">—обытие_Ќеобработанна€ќшибка</a> ()</li>
<li><a class="reference internal" href="#id30">—обытие_«апись—обыти€∆урнала–егистрации</a> ()</li>
<li><a class="reference internal" href="#id32">—обытие_«аписьѕользовательского—обыти€∆урнала–егистрации</a> ()</li>
</ul>
</dd>
</dl>
</li>
</ol>
<p>¬ дальнейшем повторного поиска не происходит, в отличие от ‘орм≈кс, что дает хорошую скорость работы.</p>
<p>4. ќбработчики событий могут быть функци€ми,
в этом случае если возвращаетс€ 0, системна€ функци€ не вызываетс€.
≈сли обработчик событи€ €вл€етс€ процедурой, то системна€ функци€ вызываетс€ всегда.</p>
<p>5. ѕеред подключением можно установить перехват на глобальник,
тогда указанные событи€ будут ловитьс€ в классах с помощью перехвата глобального модул€.</p>
<div class="section" id="id29">
<span id="id28"></span><h2>—обытие_Ќеобработанна€ќшибка</h2>
<blockquote>
<p><strong>—интаксис:</strong> ‘ункци€/ѕроцедура —обытие_Ќеобработанна€ќшибка(—ообщениеќбќшибке, ћаркер,
»м€‘айла, ѕарам4, Ќомер—трокиќшибки, ѕарам6)</p>
<p><strong>ќписание:</strong> ѕодключает возможность получени€ необработанной ошибки в обработчике
внутри глобального модул€ —обытие_Ќеобработанна€ќшибка()</p>
<p>≈сли обработчик €вл€етс€ функцией, то если он возвращает 0, системное
сообщение об ошибке не показываетс€. ≈сли 1, то показываетс€.
≈сли процедурой, системное сообщение об ошибке также показываетс€.</p>
</blockquote>
</div>
<div class="section" id="id31">
<span id="id30"></span><h2>—обытие_«апись—обыти€∆урнала–егистрации</h2>
<blockquote>
<dl class="docutils">
<dt><strong>—интаксис:</strong> ‘ункци€/ѕроцедура —обытие_«апись—обыти€∆урнала–егистрации(EventCategory,</dt>
<dd>Event, EvType, comment, object, ObjDescr)</dd>
<dt><strong>ќписание:</strong> ѕодключает возможность получени€ событи€ запись в системный журнал регистрации 1—</dt>
<dd>в обработчике внутри глобального модул€ —обытие_«апись—обыти€∆урнала–егистрации().
ѕри этом неважно, программна€ это запись или запись, выполненна€ системой.</dd>
</dl>
<p>≈сли обработчик €вл€етс€ функцией, то если он возвращает 0, системна€
запись в журнал регистрации выполн€тьс€ не будет. ≈сли 1, то запись будет выполнена.
≈сли процедурой, системна€ запись в журнал регистрации будет выполнена.</p>
</blockquote>
</div>
<div class="section" id="id33">
<span id="id32"></span><h2>—обытие_«аписьѕользовательского—обыти€∆урнала–егистрации</h2>
<blockquote>
<dl class="docutils">
<dt><strong>—интаксис:</strong> ‘ункци€/ѕроцедура —обытие_«аписьѕользовательского—обыти€∆урнала–егистрации(EventCategory,</dt>
<dd>Event, EvType, comment, object, ObjDescr)</dd>
<dt><strong>ќписание:</strong> ѕодключает возможность получени€ событи€ пользовательска€ запись</dt>
<dd><p class="first">в системный журнал регистрации 1— в обработчике внутри глобального модул€
—обытие_«апись—обыти€∆урнала–егистрации().
ѕри этом  неважно,  программна€  это  запись  или  запись,  выполненна€ системой.</p>
<p class="last">≈сли обработчик €вл€етс€ функцией, то если он возвращает 0, системна€</p>
</dd>
<dt>запись в журнал регистрации выполн€тьс€ не будет. ≈сли 1, то запись будет выполнена.</dt>
<dd>≈сли процедурой, системна€ запись в журнал регистрации будет выполнена.</dd>
</dl>
</blockquote>
</div>
</div>
<div class="section" id="id34">
<h1>—пециальные событи€ глобального модул€ - только дл€ классов-перехватчиков √ћ</h1>
<!-- <chminfo split="0" splitchild="1">
        <insert nodes="//common/propsmethods/*"/>
</chminfo> -->
<div class="section" id="id36">
<span id="id35"></span><h2>—обытие√ћ_—оздание онтекста</h2>
<blockquote>
<blockquote>
<p><strong>—интаксис:</strong> —обытие√ћ_—оздание онтекста( онт‘ормы)</p>
<p><strong>¬озвращает:</strong> тип: „исло. Ќе используетс€. “.е. обработчик может быть и процедурой</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first last simple">
<li><strong> онт‘ормы</strong> - тип: √рупповой онтекст.</li>
</ul>
</dd>
</dl>
</blockquote>
<p><strong>ќписание:</strong>
≈сли есть обработчик этого событи€, то он будет вызван раньше любых событий 1—, FormEx и других ¬ .</p>
<p>ƒанное событие возникает сразу после компил€ции модул€ формы контекста.</p>
<p>ƒанное событие всегда вызываетс€ дл€ любого группового контекста и
всегда только один раз дл€ одного контекста.</p>
<p>≈го очень удобно использовать дл€ установки перехвата на форму дл€
работы с событи€ми формы.</p>
</blockquote>
<pre class="literal-block">
    ‘ункци€ —обытие√ћ_—оздание онтекста( онт‘ормы) Ёкспорт
            // текст обработчика событи€
     онец‘ункции

≈сли в глобальнике просто определить функцию  —обытие√ћ_—оздание онтекста( онт‘ормы),
то она работать не будет. ƒанна€ функци€ сделана только дл€ перехвата в классах перехвата.
</pre>
</div>
<div class="section" id="id38">
<span id="id37"></span><h2>—обытие√ћ_ѕриќткрытии</h2>
<blockquote>
<blockquote>
<p><strong>—интаксис:</strong> —обытие√ћ_ѕриќткрытии( онт‘ормы, ‘лаг„тени€Ќастройки)</p>
<p><strong>¬озвращает:</strong> тип: „исло. 0 или 1.</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first simple">
<li><strong> онт‘ормы</strong> - тип: √рупповой онтекст.</li>
<li><strong>‘лаг„тени€Ќастройки</strong>  -  тип:  число или пустое значение.</li>
</ul>
<p class="last">ѕараметр ‘лаг„тени€Ќастройки имеет смысл только дл€ контекстов форм отчетов и обработок, внешних или встроенных,
дл€ остальных форм он будет иметь пустое значение.</p>
</dd>
</dl>
</blockquote>
<p><strong>ќписание:</strong>
≈сли есть обработчик этого событи€, то она будет вызван раньше системного
обработчика ѕриќткрытии в модуле формы контекста.
≈сли обработчик вернет 0,  то  форма  не  будет  открыта  и  вызов  обработчика
ѕриќткрытии из модул€ формы контекста не будет выполнен.</p>
</blockquote>
<pre class="literal-block">
    ‘ункци€ —обытие√ћ_ѕриќткрытии( онт‘ормы) Ёкспорт
            // текст обработчика событи€
            ¬озврат 0; // возвращаемое значение €вл€етс€ статусом возврата, т. е. в таком случае форма не будет открыта.
            // в случае ¬озврат 1; форма будет открыта.
     онец‘ункции

≈сли в глобальнике просто определить функцию  —обытие√ћ_ѕриќткрытии( онт‘ормы),
то она работать не будет. ƒанна€ функци€ сделана только дл€ перехвата в классах перехвата.

¬озможно задавать в классе-перехватчике как событие с одним параметром,
так и с двум€ параметрами.
</pre>
</div>
<div class="section" id="id40">
<span id="id39"></span><h2>—обытие√ћ_¬водЌового</h2>
<blockquote>
<blockquote>
<p><strong>—интаксис:</strong> —обытие√ћ_¬водЌового( онт‘ормы, ‘лаг опировани€, ќбъект опировани€)</p>
<p><strong>¬озвращает:</strong> тип: „исло. 0 или 1.</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first simple">
<li><strong> онт‘ормы</strong> - тип: √рупповой онтекст.</li>
<li><strong>‘лаг опировани€</strong>  -  тип:  число или пустое значение.</li>
<li><strong>ќбъект опировани€</strong>  -  тип:  объект или пустое значение.</li>
</ul>
<p class="last">ѕараметры ‘лаг опировани€ и ќбъект опировани€ имеют смысл только дл€ контекстов форм документов или справочников,
дл€ остальных форм они будет иметь пустое значение.</p>
</dd>
</dl>
</blockquote>
<p><strong>ќписание:</strong>
≈сли есть обработчик этого событи€, то она будет вызван раньше системного
обработчика ¬водЌового в модуле формы контекста.
≈сли обработчик вернет 0,  то  форма  не  будет  открыта  и  вызов  обработчика
¬водЌового из модул€ формы контекста не будет выполнен.</p>
</blockquote>
<pre class="literal-block">
    ‘ункци€ —обытие√ћ_¬водЌового( онт‘ормы) Ёкспорт
            // текст обработчика событи€
            ¬озврат 0; // возвращаемое значение €вл€етс€ статусом возврата, т. е. в таком случае форма не будет открыта.
            // в случае ¬озврат 1; форма будет открыта.
     онец‘ункции

≈сли в глобальнике просто определить функцию  —обытие√ћ_¬водЌового( онт‘ормы),
то она работать не будет. ƒанна€ функци€ сделана только дл€ перехвата в классах перехвата.

            ¬озможно задавать в классе-перехватчике как событие с одним параметром,
            так и с двум€/трем€ параметрами.
</pre>
</div>
<div class="section" id="id42">
<span id="id41"></span><h2>—обытие√ћ_¬водЌаќсновании</h2>
<blockquote>
<blockquote>
<p><strong>—интаксис:</strong> —обытие√ћ_¬водЌаќсновании( онт‘ормы, ƒокументќснование)</p>
<p><strong>¬озвращает:</strong> тип: „исло. 0 или 1.</p>
<dl class="docutils">
<dt><strong>ѕараметры:</strong></dt>
<dd><ul class="first simple">
<li><strong> онт‘ормы</strong> - тип: √рупповой онтекст.</li>
<li><strong>ƒокументќснование</strong>  -  тип:  ƒокумент или пустое значение.</li>
</ul>
<p class="last">ѕараметр ƒокументќснование имеет смысл только дл€ контекстов форм документов,
дл€ остальных форм они будет иметь пустое значение.</p>
</dd>
</dl>
</blockquote>
<p><strong>ќписание:</strong>
≈сли есть обработчик этого событи€, то она будет вызван раньше системного
обработчика ¬водЌаќсновании в модуле формы документа.
≈сли обработчик вернет 0,  то  форма  не  будет  открыта  и  вызов  обработчика
¬водЌаќсновании из модул€ формы документа не будет выполнен.</p>
</blockquote>
<pre class="literal-block">
    ‘ункци€ —обытие√ћ_¬водЌаќсновании( онт‘ормы, ƒокументќснование) Ёкспорт
            // текст обработчика событи€
            ¬озврат 0; // возвращаемое значение €вл€етс€ статусом возврата, т. е. в таком случае форма не будет открыта.
            // в случае ¬озврат 1; форма будет открыта.
     онец‘ункции

≈сли в глобальнике просто определить функцию  —обытие√ћ_¬водЌаќсновании(...),
то она работать не будет. ƒанна€ функци€ сделана только дл€ перехвата в классах перехвата.

            ¬озможно задавать в классе-перехватчике обработчик как событие с одним параметром,
            так и с двум€ параметрами.
</pre>
</div>
</div>
</div>
<div class="footer">
<hr class="footer" />
Generated on: 2013-01-30 23:09 UTC.
Generated by <a class="reference external" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.

</div>
</body>

<!-- Mirrored from www.1cpp.ru/docum/icpp/html/Hooker.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Mar 2024 08:56:52 GMT -->
</html>
